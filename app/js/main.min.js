$(document).ready(function(){var e,o=$(".ov"),t=document.querySelectorAll(".selector-menu");for(e=0;e<t.length;e++)t[e].fakeScroll();function i(){var e=$(".link.link-calc"),t=$(".link.link-filter"),i=$(".link.link-sort"),n=$(".sidebar__item .icon-close"),a=$(".modal .icon-close");$(window).width()<991&&(e.click(function(){$("-window-active").removeClass("-active"),$(".sidebar__item.item-calc").toggleClass("-window-active"),o.toggleClass("-window-active")}),t.click(function(){$("-window-active").removeClass("-active"),$(".sidebar__item.item-filter").toggleClass("-window-active"),o.toggleClass("-window-active")}),i.click(function(){$("-window-active").removeClass("-active"),$(".modal-sort").toggleClass("-window-active"),o.toggleClass("-window-active")}),a.click(function(){$(".modal.-window-active").removeClass("-window-active"),o.toggleClass("-window-active")}),n.click(function(){$(".sidebar__item.-window-active").removeClass("-window-active"),o.toggleClass("-window-active")}))}function n(){var e=$(".section-main").outerHeight(!0)+$(".section-popular").outerHeight(!0),t=$(".back-to-top");$(window).scrollTop()>e?t.addClass("-active"):t.removeClass("-active")}i(),$(window).on("resize",function(){i()}),n(),$(window).on("scroll",function(){n()}),$(".back-to-top").click(function(){$("html,body").animate({scrollTop:0},1100)}),$(function(){$(".table-comparison-block").each(function(){var e=$(this).find(".table-comparison-wrapper");$(this).find(".table__arrow").click(function(){e.toggleClass("-opened")})})}),$(function(){var s=document.getElementById("calc-slider");if(null!=s){var i=[document.getElementById("input-calc-1"),document.getElementById("input-calc-2")];noUiSlider.create(s,{start:[0,1e5],connect:!0,range:{min:[0],max:1e5},step:500,format:wNumb({decimals:0})}),s.noUiSlider.on("update",function(e,t){i[t].value=e[t]}),i.forEach(function(e,o){e.addEventListener("change",function(){s.noUiSlider.setHandle(o,this.value)}),e.addEventListener("keydown",function(e){var t,i=s.noUiSlider.get(),n=Number(i[o]),a=s.noUiSlider.steps()[o];switch(e.which){case 13:s.noUiSlider.setHandle(o,this.value);break;case 38:!1===(t=a[1])&&(t=1),null!==t&&s.noUiSlider.setHandle(o,n+t);break;case 40:!1===(t=a[0])&&(t=1),null!==t&&s.noUiSlider.setHandle(o,n-t)}})})}}),$(".header__menu").click(function(){$(".header").toggleClass("-menu-opened -window-active"),$(".sidebar__item").hasClass("-window-active")||$(".modal-sort").hasClass("-window-active")?($(".sidebar__item.-window-active").removeClass("-window-active"),$(".modal-sort.-window-active").removeClass("-window-active")):o.toggleClass("-window-active")}),$(".header__nav .list__item.has-sublist .icon-arrow-down").click(function(){$(this).parent().find(".sublist-block").slideToggle(),$(this).parent().toggleClass("-active")}),$(window).scroll(function(){var e=$(window).scrollTop(),t=$(".header");0<e?t.addClass("header-fixed"):t.removeClass("header-fixed")}),o.click(function(){$(".-menu-opened").removeClass("-menu-opened"),$(".-window-active").removeClass("-window-active"),$(this).removeClass("-window-active")}),$(function(){$(".selector").each(function(){var e=$(this).find(".select"),i=$(this).find(".selector-menu"),t=i.find(".menu"),n=e.find("option");$(this).append('<div class="selector-block"><button type="button" class="button"></button><div class="tags"><button type="button" class="tag"></button></div></div>'),e.wrap('<div class="form-data"></div>');var a=$(this).find(".selector-block"),o=a.find(".tag"),s=a.find(".button");n.each(function(){if($(this).attr("selected")){t.append('<li data-id="'+$(this).attr("value")+'" class="selector-menu__item selected">'+$(this).html()+"</li>");var e=t.find(".selector-menu__item.selected");o.html($(this).html()),o.attr("data-id",e.attr("data-id"))}else t.append('<li data-id="'+$(this).attr("value")+'" class="selector-menu__item">'+$(this).html()+"</li>")});var l=t.find(".selector-menu__item");s.click(function(){var e=t.find(".selector-menu__item").length;e<5&&i.css("height",42*e+12),i.toggleClass("-open")}),l.click(function(){var e=$(this).attr("data-id"),t=$(this).html();n.removeAttr("selected"),n.each(function(){$(this)[0].value===e&&$(this).attr("selected","selected")}),n.find("[value]",e),o.html(t),o.attr("data-id",e),l.removeClass("selected"),$(this).addClass("selected"),i.removeClass("-open")})})}),$(function(){$(".accordion").each(function(){$(this).find(".accordion__item").each(function(){var e=$(this).find(".accordion__inner"),t=$(this).find(".accordion__arrow"),i=$(this);t.click(function(){i.toggleClass("-active"),e.slideToggle()})})})}),$(function(){$(".slider.slider-recommend").length&&$(".slider.slider-recommend .slider-wrapper").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,dots:!1,arrows:!0,speed:300,prevArrow:$(".slider-recommend .slider-button-prev"),nextArrow:$(".slider-recommend .slider-button-next"),responsive:[{breakpoint:768,settings:{slidesToShow:1,variableWidth:!0}},{breakpoint:480,settings:{slidesToShow:1,variableWidth:!0,arrows:!1}}]})}),$(function(){$(".review__text .text").each(function(e,t){175<$(this).height()&&($(this).append('<div class="link-wrapper"><span class="dotted">...</span><a href="javascript:;" class="link link-text-primary">Читать далее</a></div>'),$clamp(t,{clamp:7}),$(this).on("click",".link",function(){$clamp(t,{clamp:100}),$(this).parent().addClass("-hidden")}))})}),$(function(){var e=$(".catalog"),u=$(".form-calc"),s=(u.find('[name="calc-sum-from"]'),u.find('[name="calc-sum-to"]'),u.find('[name="form-calc-term-count"]'),u.find('[name="form-calc-term-value"]'),u.find('[name="form-calc-withdrawal"]'),u.find(".form__button .link"));$('[name="form-calc-term-count"]').bind("change keyup input click",function(){this.value.match(/[^0-9]/g)&&(this.value=this.value.replace(/[^0-9]/g,""))}),e.each(function(){var d=$(this).find(".catalog__content"),e=$(this).find($(".catalog__item")),t=$(this).find($(".catalog__item.item-header")),i=t.find(".col-summ"),n=t.find(".col-bet"),a=t.find(".col-term"),m=$(this).find(".adv__item")[0],f=[];Array.prototype.insert=function(e,t){this.splice(e,0,t)};for(var o=1;o<e.length;o++)f.push(e[o]);f.insert(4,m),i.click(function(){$(this).hasClass("from-min")?(function(){for(f.splice(4,1),f.sort(function(e,t){return(e=parseFloat($(e).find(".col-summ .count").text().replace(/\s/g,"")))===(t=parseFloat($(t).find(".col-summ .count").text().replace(/\s/g,"")))?0:e<t?1:-1}),f.insert(4,m),o=0;o<f.length;o++)d.append(f[o])}(),$(this).removeClass("from-min"),$(this).addClass("from-max")):(function(){for(f.splice(4,1),f.sort(function(e,t){return(e=parseFloat($(e).find(".col-summ .count").text().replace(/\s/g,"")))===(t=parseFloat($(t).find(".col-summ .count").text().replace(/\s/g,"")))?0:t<e?1:-1}),f.insert(4,m),o=0;o<f.length;o++)d.append(f[o])}(),$(this).removeClass("from-max"),$(this).addClass("from-min"))}),n.click(function(){$(this).hasClass("from-min")?(function(){for(f.splice(4,1),f.sort(function(e,t){return(e=parseFloat($(e).find(".col-bet .count").text().replace(/\s/g,"")))===(t=parseFloat($(t).find(".col-bet .count").text().replace(/\s/g,"")))?0:e<t?1:-1}),f.insert(4,m),o=0;o<f.length;o++)d.append(f[o])}(),$(this).removeClass("from-min"),$(this).addClass("from-max")):(function(){for(f.splice(4,1),f.sort(function(e,t){return(e=parseFloat($(e).find(".col-bet .count").text().replace(/\s/g,"")))===(t=parseFloat($(t).find(".col-bet .count").text().replace(/\s/g,"")))?0:t<e?1:-1}),f.insert(4,m),o=0;o<f.length;o++)d.append(f[o])}(),$(this).removeClass("from-max"),$(this).addClass("from-min"))}),a.click(function(){$(this).hasClass("from-min")?(function(){for(f.splice(4,1),f.sort(function(e,t){return(e=parseFloat($(e).find(".col-term .count-to").text().replace(/\s/g,""))-parseFloat($(e).find(".col-term .count-from").text().replace(/\s/g,"")))===(t=parseFloat($(t).find(".col-term .count-to").text().replace(/\s/g,""))-parseFloat($(t).find(".col-term .count-from").text().replace(/\s/g,"")))?0:e<t?1:-1}),f.insert(4,m),o=0;o<f.length;o++)d.append(f[o])}(),$(this).removeClass("from-min"),$(this).addClass("from-max")):(function(){for(f.splice(4,1),f.sort(function(e,t){return(e=parseFloat($(e).find(".col-term .count-to").text().replace(/\s/g,""))-parseFloat($(e).find(".col-term .count-from").text().replace(/\s/g,"")))===(t=parseFloat($(t).find(".col-term .count-to").text().replace(/\s/g,""))-parseFloat($(t).find(".col-term .count-from").text().replace(/\s/g,"")))?0:t<e?1:-1}),f.insert(4,m),o=0;o<f.length;o++)d.append(f[o])}(),$(this).removeClass("from-max"),$(this).addClass("from-min"))}),s.click(function(){!function(){f.splice(4,1);var e=u.find('[name="calc-sum-from"]').val(),t=u.find('[name="calc-sum-to"]').val(),i=u.find('[name="form-calc-term-count"]').val(),n=u.find('[name="form-calc-term-value"]').val(),a=u.find('[name="form-calc-withdrawal"]').val(),o=0;"Day"===n&&0<i?o=i:"Week"===n&&0<i?o=7*i:"Month"===n&&0<i&&(o=30*i);for(var s=0;s<f.length;s++){var l=parseFloat($(f[s]).find(".col-summ .count").text().replace(/\s/g,"")),c=parseFloat($(f[s]).find(".col-term .count-to").text().replace(/\s/g,"")),r=$(f[s]).data("withdrawal");l<e||t<l||c<o||"Any"!==a&&a!==r?$(f[s]).hide():$(f[s]).show()}for(f.insert(4,m),s=0;s<f.length;s++)d.append(f[s])}()}),e.each(function(){var e=$(this).find(".item-arrow"),t=$(this).find(".col-content");e.click(function(){$(this).parent().toggleClass("-active"),t.slideToggle()})})})}),$(function(){var e=$(".news-wrapper");null!=e&&e.each(function(){var e=$(this),t=$(this).find(".news__item"),i=$(this).parent().find(".news__button .link");t.length<6&&i.parent().hide();for(var n=0;n<t.length;n++)5<n&&$(t[n]).addClass("-hidden-item");i.click(function(){e.find(".-hidden-item").fadeToggle(),$(this).hasClass("-opened")?($(this).removeClass("-opened"),$(this).text("Читать еще новости")):($(this).addClass("-opened"),$(this).text("Скрыть новости"))})})})});