$(document).ready(function(){var e,s=$(".ov"),t=document.querySelectorAll(".selector-menu");for(e=0;e<t.length;e++)t[e].fakeScroll();function i(){var e=$(".link.link-calc"),t=$(".link.link-filter"),i=$(".link.link-sort"),n=$(".sidebar__item .icon-close"),o=$(".modal .icon-close");$(window).width()<991&&(e.click(function(){$("-window-active").removeClass("-active"),$(".sidebar__item.item-calc").toggleClass("-window-active"),s.toggleClass("-window-active")}),t.click(function(){$("-window-active").removeClass("-active"),$(".sidebar__item.item-filter").toggleClass("-window-active"),s.toggleClass("-window-active")}),i.click(function(){$("-window-active").removeClass("-active"),$(".modal-sort").toggleClass("-window-active"),s.toggleClass("-window-active")}),o.click(function(){$(".modal.-window-active").removeClass("-window-active"),s.toggleClass("-window-active")}),n.click(function(){$(".sidebar__item.-window-active").removeClass("-window-active"),s.toggleClass("-window-active")}))}function n(){var e=$(".section-main").outerHeight(!0)+$(".section-popular").outerHeight(!0),t=$(".back-to-top");$(window).scrollTop()>e?t.addClass("-active"):t.removeClass("-active")}i(),$(window).on("resize",function(){i()}),n(),$(window).on("scroll",function(){n()}),$(".back-to-top").click(function(){$("html,body").animate({scrollTop:0},1100)}),$(function(){$(".table-comparison-block").each(function(){var e=$(this).find(".table-comparison-wrapper");$(this).find(".table__arrow").click(function(){e.toggleClass("-opened")})})}),$(function(){var a=document.getElementById("calc-slider"),i=[document.getElementById("input-calc-1"),document.getElementById("input-calc-2")];noUiSlider.create(a,{start:[0,1e5],connect:!0,range:{min:[0],max:1e5},step:500,format:wNumb({decimals:0})}),a.noUiSlider.on("update",function(e,t){i[t].value=e[t]}),i.forEach(function(e,s){e.addEventListener("change",function(){a.noUiSlider.setHandle(s,this.value)}),e.addEventListener("keydown",function(e){var t,i=a.noUiSlider.get(),n=Number(i[s]),o=a.noUiSlider.steps()[s];switch(e.which){case 13:a.noUiSlider.setHandle(s,this.value);break;case 38:!1===(t=o[1])&&(t=1),null!==t&&a.noUiSlider.setHandle(s,n+t);break;case 40:!1===(t=o[0])&&(t=1),null!==t&&a.noUiSlider.setHandle(s,n-t)}})})}),$(".header__menu").click(function(){$(".header").toggleClass("-menu-opened -window-active"),$(".sidebar__item").hasClass("-window-active")||$(".modal-sort").hasClass("-window-active")?($(".sidebar__item.-window-active").removeClass("-window-active"),$(".modal-sort.-window-active").removeClass("-window-active")):s.toggleClass("-window-active")}),$(".header__nav .list__item.has-sublist .icon-arrow-down").click(function(){$(this).parent().find(".sublist-block").slideToggle(),$(this).parent().toggleClass("-active")}),$(window).scroll(function(){var e=$(window).scrollTop(),t=$(".header");0<e?t.addClass("header-fixed"):t.removeClass("header-fixed")}),s.click(function(){$(".-menu-opened").removeClass("-menu-opened"),$(".-window-active").removeClass("-window-active"),$(this).removeClass("-window-active")}),$(function(){$(".selector").each(function(){var e=$(this).find(".select"),i=$(this).find(".selector-menu"),t=i.find(".menu"),n=e.find("option");$(this).append('<div class="selector-block"><button type="button" class="button"></button><div class="tags"><button type="button" class="tag"></button></div></div>'),e.wrap('<div class="form-data"></div>');var o=$(this).find(".selector-block"),s=o.find(".tag"),a=o.find(".button");n.each(function(){if($(this).attr("selected")){t.append('<li data-id="'+$(this).attr("value")+'" class="selector-menu__item selected">'+$(this).html()+"</li>");var e=t.find(".selector-menu__item.selected");s.html($(this).html()),s.attr("data-id",e.attr("data-id"))}else t.append('<li data-id="'+$(this).attr("value")+'" class="selector-menu__item">'+$(this).html()+"</li>")});var l=t.find(".selector-menu__item");a.click(function(){var e=t.find(".selector-menu__item").length;e<5&&i.css("height",42*e+12),i.toggleClass("-open")}),l.click(function(){var e=$(this).attr("data-id"),t=$(this).html();n.removeAttr("selected"),n.each(function(){$(this)[0].value===e&&$(this).attr("selected","selected")}),n.find("[value]",e),s.html(t),s.attr("data-id",e),l.removeClass("selected"),$(this).addClass("selected"),i.removeClass("-open")})})}),$(function(){$(".accordion").each(function(){$(this).find(".accordion__item").each(function(){var e=$(this).find(".accordion__inner"),t=$(this).find(".accordion__arrow"),i=$(this);t.click(function(){i.toggleClass("-active"),e.slideToggle()})})})}),$(function(){$(".slider.slider-recommend").length&&$(".slider.slider-recommend .slider-wrapper").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,dots:!1,arrows:!0,speed:300,prevArrow:$(".slider-recommend .slider-button-prev"),nextArrow:$(".slider-recommend .slider-button-next"),responsive:[{breakpoint:768,settings:{slidesToShow:1,variableWidth:!0}},{breakpoint:480,settings:{slidesToShow:1,variableWidth:!0,arrows:!1}}]})}),$(function(){$(".review__text .text").each(function(e,t){175<$(this).height()&&($(this).append('<div class="link-wrapper"><span class="dotted">...</span><a href="javascript:;" class="link link-text-primary">Читать далее</a></div>'),$clamp(t,{clamp:7}),$(this).on("click",".link",function(){$clamp(t,{clamp:100}),$(this).parent().addClass("-hidden")}))})}),$(function(){$(".catalog").each(function(){var e=$(this).find(".catalog__content"),t=$(this).find($(".catalog__item")),i=$(this).find($(".catalog__item.item-header")),n=i.find(".col-summ"),o=i.find(".col-bet"),s=i.find(".col-term"),a=$(this).find(".adv__item")[0],l=[];Array.prototype.insert=function(e,t){this.splice(e,0,t)};for(var c=1;c<t.length;c++)l.push(t[c]);l.insert(4,a),n.click(function(){$(this).hasClass("from-min")?(function(){for(l.splice(4,1),l.sort(function(e,t){return(e=parseFloat($(e).find(".col-summ .count").text().replace(/\s/g,"")))===(t=parseFloat($(t).find(".col-summ .count").text().replace(/\s/g,"")))?0:e<t?1:-1}),l.insert(4,a),c=0;c<l.length;c++)e.append(l[c])}(),$(this).removeClass("from-min"),$(this).addClass("from-max")):(function(){for(l.splice(4,1),l.sort(function(e,t){return(e=parseFloat($(e).find(".col-summ .count").text().replace(/\s/g,"")))===(t=parseFloat($(t).find(".col-summ .count").text().replace(/\s/g,"")))?0:t<e?1:-1}),l.insert(4,a),c=0;c<l.length;c++)e.append(l[c])}(),$(this).removeClass("from-max"),$(this).addClass("from-min"))}),o.click(function(){$(this).hasClass("from-min")?(function(){for(l.splice(4,1),l.sort(function(e,t){return(e=parseFloat($(e).find(".col-bet .count").text().replace(/\s/g,"")))===(t=parseFloat($(t).find(".col-bet .count").text().replace(/\s/g,"")))?0:e<t?1:-1}),l.insert(4,a),c=0;c<l.length;c++)e.append(l[c])}(),$(this).removeClass("from-min"),$(this).addClass("from-max")):(function(){for(l.splice(4,1),l.sort(function(e,t){return(e=parseFloat($(e).find(".col-bet .count").text().replace(/\s/g,"")))===(t=parseFloat($(t).find(".col-bet .count").text().replace(/\s/g,"")))?0:t<e?1:-1}),l.insert(4,a),c=0;c<l.length;c++)e.append(l[c])}(),$(this).removeClass("from-max"),$(this).addClass("from-min"))}),s.click(function(){$(this).hasClass("from-min")?(function(){for(l.splice(4,1),l.sort(function(e,t){return(e=parseFloat($(e).find(".col-term .count-to").text().replace(/\s/g,""))-parseFloat($(e).find(".col-term .count-from").text().replace(/\s/g,"")))===(t=parseFloat($(t).find(".col-term .count-to").text().replace(/\s/g,""))-parseFloat($(t).find(".col-term .count-from").text().replace(/\s/g,"")))?0:e<t?1:-1}),l.insert(4,a),c=0;c<l.length;c++)e.append(l[c])}(),$(this).removeClass("from-min"),$(this).addClass("from-max")):(function(){for(l.splice(4,1),l.sort(function(e,t){return(e=parseFloat($(e).find(".col-term .count-to").text().replace(/\s/g,""))-parseFloat($(e).find(".col-term .count-from").text().replace(/\s/g,"")))===(t=parseFloat($(t).find(".col-term .count-to").text().replace(/\s/g,""))-parseFloat($(t).find(".col-term .count-from").text().replace(/\s/g,"")))?0:t<e?1:-1}),l.insert(4,a),c=0;c<l.length;c++)e.append(l[c])}(),$(this).removeClass("from-max"),$(this).addClass("from-min"))}),t.each(function(){var e=$(this).find(".item-arrow"),t=$(this).find(".col-content");e.click(function(){$(this).parent().toggleClass("-active"),t.slideToggle()})})})})});